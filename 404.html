<!doctype html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>Single Page Apps for GitHub Pages</title>
    <script type="text/javascript">
      var pathSegmentsToKeep = 1;
      var l = window.location;

      // 현재 경로가 이미 /?/ 형식이 아닐 때만 리다이렉트
      if (!l.pathname.includes("/?/")) {
        var basePath = l.pathname
          .split("/")
          .slice(0, 1 + pathSegmentsToKeep)
          .join("/");
        var remainingPath = l.pathname
          .slice(1)
          .split("/")
          .slice(pathSegmentsToKeep)
          .join("/");

        l.replace(
          l.protocol +
            "//" +
            l.hostname +
            (l.port ? ":" + l.port : "") +
            basePath +
            "/" + // 슬래시 추가
            remainingPath +
            (l.search ? l.search.replace(/&/g, "~and~") : "") +
            l.hash,
        );
      }
    </script>
  </head>
  <body></body>
</html>
