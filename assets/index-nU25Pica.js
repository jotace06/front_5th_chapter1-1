var l=Object.defineProperty;var h=(e,n,r)=>n in e?l(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var u=(e,n,r)=>h(e,typeof n!="symbol"?n+"":n,r);import{B as c,R as o,M as w,P as f,L as g,E as P,a as p,b as R,c as m,d as C,U as E,S as v}from"./error-DQPu2DZ-.js";const d={get basePath(){return"/front_5th_chapter1-1"},getRoutePath(e){return e.replace(this.basePath,"")||"/"},getFullPath(e){return`${this.basePath}${e}`}};class L extends c{constructor(){super(...arguments);u(this,"handleRouteChange",()=>{const r=d.getRoutePath(window.location.pathname);if(this.lastPath===r)return;this.lastPath=r;const s=this.routes.find(i=>i.path===r)||this.routes.find(i=>i.path===o.error);if(s){for(const i of s.guards)if(!i())return;s.handler()}});u(this,"navigate",r=>{const s=d.getFullPath(r);window.history.pushState({},"",s),window.dispatchEvent(new Event("routeChange"))})}}const t=new L,$=new v("user"),a=new E($),M=new w,b=new f,S=new g,V=new P,U=new p(M,a,t),q=new R(b,a,t),y=new m(S,a,t),B=new C(V,a),F=()=>{var e;return(e=a.userInfo)!=null&&e.username?!0:(t.navigate(o.login),!1)},I=()=>{var e;return(e=a.userInfo)!=null&&e.username?(t.navigate(o.main),!1):!0};t.addRoute(o.main,U.render);t.addRoute(o.profile,q.render,[F]);t.addRoute(o.login,y.render,[I]);t.addRoute(o.error,B.render);document.addEventListener("DOMContentLoaded",t.init);window.addEventListener("popstate",t.init);window.addEventListener("routeChange",t.init);
